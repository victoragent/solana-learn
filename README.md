# Solana 密钥对生成器

一个高性能的 Solana 密钥对生成工具，支持多线程并发生成，可同时搜索多个公钥前缀，直到找到所有目标前缀为止。

## 功能特性

- 🚀 **多线程并发**：自动检测 CPU 核心数，充分利用多核性能
- 🎯 **多目标搜索**：支持同时搜索多个公钥前缀
- 📝 **完整日志**：所有生成的密钥对都会记录到日志文件
- ✅ **结果追踪**：找到的结果单独保存到 `result.log` 文件
- 🔄 **持续运行**：程序会持续运行直到所有指定的前缀都被找到
- ⚙️ **灵活配置**：支持自定义线程数和搜索前缀

## 系统要求

- Rust 1.70+ 
- 足够的磁盘空间（日志文件可能很大）

## 安装和编译

### 安装 Rust

如果还没有安装 Rust，请访问 [rustup.rs](https://rustup.rs/) 安装。

### 编译项目

```bash
# Debug 模式编译
cargo build

# Release 模式编译（推荐，性能更好）
cargo build --release
```

## 使用方法

### 基本用法

```bash
# 使用默认设置（搜索 "seekr" 前缀，使用所有 CPU 核心）
cargo run --release

# 搜索单个前缀
cargo run --release -- seekr

# 搜索多个前缀（最简单的方式）
cargo run --release -- win wxy see

# 使用 --prefix 参数
cargo run --release -- --prefix win --prefix wxy --prefix see

# 使用短参数 -p
cargo run --release -- -p win -p wxy -p see
```

### 指定线程数

```bash
# 使用 8 个线程
cargo run --release -- --threads 8 --prefix seekr

# 使用短参数 -t
cargo run --release -- -t 16 win wxy see
```

### 查看帮助

```bash
cargo run -- --help
```

## 命令行参数

### 选项

- `--threads, -t <数量>`  
  指定使用的工作线程数（默认为 CPU 核心数）
  
- `--prefix, -p <前缀>`  
  指定要搜索的公钥前缀（可多次使用指定多个前缀）

- `--help, -h`  
  显示帮助信息

### 位置参数

也可以直接提供前缀作为位置参数，无需使用 `--prefix`：

```bash
cargo run --release -- prefix1 prefix2 prefix3
```

## 输出文件

### 日志文件

- **格式**：`keypairs_XXXX.log`（如 `keypairs_0000.log`, `keypairs_0001.log` 等）
- **内容**：所有生成的密钥对记录
- **格式**：`[时间] 序号: xxx | 公钥: xxx | 私钥: xxx`
- **大小限制**：每个文件最多 1,000,000 行，达到限制后自动创建新文件

### 结果文件

- **文件名**：`result.log`
- **内容**：所有找到的匹配结果
- **格式**：`[时间] [FOUND] 匹配前缀: xxx | 序号: xxx | 公钥: xxx | 私钥: xxx`
- **特点**：只包含成功匹配的记录，格式清晰易读

## 使用示例

### 示例 1：搜索单个前缀

```bash
cargo run --release -- seekr
```

程序会持续运行直到找到以 "seekr" 开头的公钥地址。

### 示例 2：搜索多个前缀

```bash
cargo run --release -- name1 name2 name3
```

程序会持续运行直到找到所有三个前缀（name1 name2 name3）。

### 示例 3：自定义线程数

```bash
cargo run --release -- --threads 8 --prefix seekr --prefix solana
```

使用 8 个线程同时搜索 "seekr" 和 "solana" 两个前缀。

### 示例 4：查看运行状态

程序运行时会显示：
- CPU 核心数和使用的线程数
- 目标前缀列表
- 每 1000 条记录输出一次进度
- 找到匹配时的详细信息
- 剩余未找到的目标前缀

## 输出示例

### 启动信息

```
检测到 8 个CPU核心，将使用 8 个工作线程（默认）
目标前缀: ["name1", "name2", "name3"]
开始生成密钥对，寻找以这些前缀开头的公钥地址...
程序将持续运行直到所有前缀都被找到

日志将保存到 keypairs_XXXX.log 文件中，每个文件最多 1000000 行
找到的结果将保存到 result.log 文件中
```

## 性能优化建议

1. **使用 Release 模式**：编译时使用 `--release` 标志可以获得更好的性能
2. **合理设置线程数**：通常设置为 CPU 核心数即可，过多可能反而降低性能
3. **磁盘空间**：确保有足够的磁盘空间存储日志文件
4. **SSD 存储**：使用 SSD 可以提高日志写入性能

## 技术说明

- **并发模型**：使用 Rust 标准库的多线程和 channel 实现
- **线程安全**：使用原子类型（AtomicU64, AtomicBool）和互斥锁（Mutex）保证线程安全
- **日志写入**：使用独立的线程处理日志写入，避免阻塞密钥生成
- **结果追踪**：使用 HashSet 跟踪已找到的前缀，避免重复记录

## 注意事项

1. ⚠️ **私钥安全**：生成的私钥会保存在日志文件中，请妥善保管，不要泄露
2. ⚠️ **磁盘空间**：长时间运行会产生大量日志文件，注意磁盘空间
3. ⚠️ **CPU 使用**：程序会充分利用 CPU 资源，可能影响其他程序运行
4. ⚠️ **找到概率**：前缀越短，找到的概率越大，但所需时间也相对较短

## 常见问题

### Q: 为什么程序运行很久还没找到？

A: 找到特定前缀的密钥对是一个概率问题。前缀越长，找到的概率越小，所需时间越长。例如，3 个字符的前缀比 5 个字符的前缀更容易找到。

### Q: 可以同时搜索多少个前缀？

A: 理论上没有限制，但建议不要设置过多，因为每个前缀都需要找到一次。

### Q: 如何停止程序？

A: 使用 `Ctrl+C` 可以中断程序。程序会优雅地关闭所有线程并保存日志。

### Q: 日志文件会占用多少空间？

A: 取决于运行时间和生成速度。每个密钥对记录大约 100-150 字节，1,000,000 条记录约 100-150 MB。

## 许可证

本项目仅供学习和研究使用。

## 贡献

欢迎提交 Issue 和 Pull Request！

